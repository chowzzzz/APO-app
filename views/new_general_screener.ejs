<% include partials/header %>
<% include partials/nav %>
<head>
  <script>
    $(document).ready(function() {

      $("#setall_btn").click(function () { // set all function for GS/AC.
        var setall_date = $('input[name=setall_date]').val();
        var setall_status = $('input[name=setall_overall_status]:checked').val();

        $('input[name=overall_status][value='+setall_status+']').attr('checked', 'checked');
        $('input[name=gs_theory_status][value='+setall_status+']').attr('checked', 'checked');
        $('input[name=gs_hhmd_status][value='+setall_status+']').attr('checked', 'checked');
        $('input[name=gs_pds_status][value='+setall_status+']').attr('checked', 'checked');
        $('input[name=gs_wtmd_status][value='+setall_status+']').attr('checked', 'checked');
        $('input[name=gs_fl_status][value='+setall_status+']').attr('checked', 'checked');
        $('input[name=gs_etd_status][value='+setall_status+']').attr('checked', 'checked');
        $('input[name=gs_mbs_status][value='+setall_status+']').attr('checked', 'checked');

        $('input[name=certified_date]').val(setall_date);
        $('input[name=gs_theory]').val(setall_date);
        $('input[name=gs_hhmd]').val(setall_date);
        $('input[name=gs_pds]').val(setall_date);
        $('input[name=gs_wtmd]').val(setall_date);
        $('input[name=gs_fl]').val(setall_date);
        $('input[name=gs_etd]').val(setall_date);
        $('input[name=gs_mbs]').val(setall_date);
      });

    });
  </script>
</head>
<%
function UNIXConverter(UNIX_timestamp){
  try {
    if (UNIX_timestamp == 0) {
      return "";
    }
    var a = new Date(UNIX_timestamp * 1000);
    var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
    var year = a.getFullYear();
    var month = a.getMonth() + 1;
    var date = a.getDate();
    var hour = a.getHours();
    var min = a.getMinutes();
    var sec = a.getSeconds();
    var time = date + '/' + month + '/' + year;
    return time;
  } catch (error) {
    return "";
  }
}
%>
    <div class="container-fluid">
      <div class="row">
        &nbsp;
      </div>
      <h4>Add New General Screener Record</h4>
      <hr>
      <h5>Set All As:</h5>
      <b>Status:</b> <input type="radio" value="1" name="setall_overall_status"> Pass <input type="radio" value="0" name="setall_overall_status"> Fail <br>
      <input type="text" class="form-control datepicker" name="setall_date" /> <br>
      <button class="btn btn-primary" id="setall_btn">Set All</button>
      <hr>
      <form action='/general_screener/new/<%=officer_details.nric%>/' method="POST">
        <b>Name:</b> <%=officer_details.fname%> <%=officer_details.lname%> <br>
        <b>NRIC:</b> <%=officer_details.nric%> <br>
        <b>Status:</b> <input type="radio" value="1" name="overall_status"> Pass <input type="radio" value="0" name="overall_status"> Fail <br>
        <b>Certified Date:</b> <input type="text" class="form-control datepicker" name="certified_date" value="" required>  <br>
        <hr>
        Theory <input type="text" class="form-control datepicker" name="gs_theory" value="" required>
        <input type="radio" value="1" name="gs_theory_status"> Pass <input type="radio" value="0" name="gs_theory_status"> Fail <br>
        HHMD <input type="text" class="form-control datepicker" name="gs_hhmd" value="" required>
        <input type="radio" value="1" name="gs_hhmd_status"> Pass <input type="radio" value="0" name="gs_hhmd_status"> Fail <br>
        PDS <input type="text" class="form-control datepicker" name="gs_pds" value="" required>
        <input type="radio" value="1" name="gs_pds_status"> Pass <input type="radio" value="0" name="gs_pds_status"> Fail <br>
        WTMD <input type="text" class="form-control datepicker" name="gs_wtmd" value="" required>
        <input type="radio" value="1" name="gs_wtmd_status"> Pass <input type="radio" value="0" name="gs_wtmd_status"> Fail <br>
        FL <input type="text" class="form-control datepicker" name="gs_fl" value="" required>
        <input type="radio" value="1" name="gs_fl_status"> Pass <input type="radio" value="0" name="gs_fl_status"> Fail <br>
        ETD <input type="text" class="form-control datepicker" name="gs_etd" value="" required>
        <input type="radio" value="1" name="gs_etd_status"> Pass <input type="radio" value="0" name="gs_etd_status"> Fail <br>
        MBS <input type="text" class="form-control datepicker" name="gs_mbs" value="" required>
        <input type="radio" value="1" name="gs_mbs_status"> Pass <input type="radio" value="0" name="gs_mbs_status"> Fail <br><br>

        <% if (user.role == 1) { %>
        <input type="submit" class="form-control" value="Add New Record"/>
        <% } %>
      </form>
      <hr>
    </div>

<% include partials/footer %>
